{"version":3,"sources":["App.module.css","Controller.ts","scales.ts","App.tsx","index.tsx"],"names":["module","exports","Order","baseKeys","sharpKeys","flatKeys","keys","numbers","RandomController","_key","_number","_ignore","_onChange","Subject","_numberChangeInterval","_keyChangeInterval","_order","Quinten","_filterDurMoll","_showScaleNotes","_hideNextButtons","_hideNumber","_keyIntervalId","_numberIntervalId","this","loadFromLocalStorage","startIntervals","nextNumber","nextKey","publish","bool","n","localStorage","setItem","JSON","stringify","state","console","log","json","getItem","ob","parse","Object","entries","key","value","order","keyInterval","numberInterval","undefined","window","clearInterval","setInterval","number","ignore","keyChangeInterval","numberChangeInterval","filterDurMoll","hideNumber","hideNextButtons","showScaleNotes","saveToLocalStorage","next","i","randomFromArray","filter","includes","filteredKeys","currentIndex","indexOf","Random","nextRandomKey","length","Quinten2","Quarten","Quarten2","k","arr","Math","floor","random","Scales","flatScales","controller","App","useState","setState","useEffect","onChange","subscribe","map","s","className","classes","ignored","included","ignoreButton","onClick","e","item","options","replace","step","rootNote","split","index","parseFloat","scale","find","id","note","notes","flat","sharp","getNoteFromStep","box","Fragment","style","display","backgroundColor","flexcolumn","flexrow","name","target","o","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.30e4d163.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1P9hb\",\"box\":\"App_box__22HXT\",\"ignore\":\"App_ignore__2SyIL\",\"ignoreButton\":\"App_ignoreButton__3bHMF\",\"included\":\"App_included__3gq1F\",\"number\":\"App_number__1CyVF\",\"key\":\"App_key__gfJ0-\",\"flexrow\":\"App_flexrow__i-Wbw\",\"flexcolumn\":\"App_flexcolumn__2p82a\"};","import { Subject } from \"rxjs\"\r\n\r\n\r\nexport const baseKeys = [\r\n\r\n    \"F Dur\",\r\n    \"C Dur\",\r\n    \"G Dur\",\r\n    \"D Dur\",\r\n    \"A Dur \",\r\n    \"E Dur\",\r\n    \"B Dur \",\r\n]\r\nexport const sharpKeys = [\r\n\r\n    \"C#\",\r\n    \"D#\",\r\n    \"F#\",\r\n    \"G#\",\r\n    \"A#\",\r\n]\r\nexport const flatKeys = [\r\n\r\n    \"Gb Dur\",\r\n    \"Db Dur\",\r\n    \"Ab Dur\",\r\n    \"Eb Dur\",\r\n    \"Bb Dur\",\r\n]\r\n\r\nexport const keys = [\r\n\r\n    \"F Dur\",\r\n    \"C Dur\",\r\n    \"G Dur\",\r\n    \"D Dur\",\r\n    \"A Dur \",\r\n    \"E Dur\",\r\n    \"B Dur \",\r\n    \r\n    \"Gb Dur\",\r\n    \"Db Dur\",\r\n    \"Ab Dur\",\r\n    \"Eb Dur\",\r\n    \"Bb Dur\",\r\n\r\n    \"C#\",\r\n    \"D#\",\r\n    \"F#\",\r\n    \"G#\",\r\n    \"A#\",\r\n\r\n\r\n    // \"E#\",\r\n    // \"H#\",\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // \"A Moll\",\r\n    // \"E Moll\",\r\n    // \"F Moll\",\r\n    // \"D Moll\",\r\n    // \"C Moll\",\r\n\r\n    // \"B Moll\",\r\n    // \"G Moll\",\r\n\r\n    // \"G# Moll\",\r\n\r\n    // \"F# Moll \",\r\n\r\n    // \"Eb Moll\",\r\n\r\n\r\n    // \"C# Moll\",\r\n\r\n    // \"Bb Moll\",\r\n]\r\n\r\nexport const numbers = [\r\n    \r\n    \"1\",\r\n    \"2\",\r\n    \"3\",\r\n    \"4\",\r\n    \"5\",\r\n    \"6\",\r\n    \"7\",\r\n    \r\n    \"b3\",\r\n    \r\n    \r\n    \"b2\",\r\n    \"#2\",\r\n    \"b9\",\r\n    \"9\",\r\n    \"#9\",\r\n    \r\n    \r\n    \"11\",\r\n    \"#11\",\r\n    \"b5\",\r\n    \"#5\",\r\n    \r\n    \"13\",\r\n    \"b13\",\r\n    \r\n    \"#4\",\r\n\r\n    \"b6\",\r\n\r\n    \"b7\",\r\n    \r\n]\r\n\r\nconst startIgnore = [\r\n\r\n\r\n    \"F Dur\",\r\n    \"C Dur\",\r\n    \"G Dur\",\r\n    \"D Dur\",\r\n    \"A Dur \",\r\n    \"E Dur\",\r\n    \"B Dur \",\r\n    \r\n    \"Gb Dur\",\r\n    // \"Db Dur\",\r\n    // \"Ab Dur\",\r\n    \"Eb Dur\",\r\n    \"Bb Dur\",\r\n\r\n    \"C#\",\r\n    \"D#\",\r\n    \"F#\",\r\n    \"G#\",\r\n    \"A#\",\r\n\r\n    \"b3\",\r\n    \r\n    \r\n    \"b2\",\r\n    \"#2\",\r\n    \"b9\",\r\n    \"9\",\r\n    \"#9\",\r\n    \r\n    \r\n    \"11\",\r\n    \"#11\",\r\n    \"b5\",\r\n    \"#5\",\r\n    \r\n    \"13\",\r\n    \"b13\",\r\n    \r\n    \"#4\",\r\n\r\n    \"b6\",\r\n\r\n    \"b7\",\r\n\r\n]\r\n\r\nexport interface IState {\r\n    number: string\r\n    key: string\r\n    ignore: string[]\r\n    keyChangeInterval: number\r\n    numberChangeInterval: number\r\n    filterDurMoll:boolean\r\n    showScaleNotes:boolean\r\n    hideNextButtons:boolean\r\n    hideNumber:boolean\r\n}\r\n\r\nexport enum Order {\r\n    Random = \"random\",\r\n    Quinten = \"quinten\",\r\n    Quinten2 = \"quinten2\",\r\n    Quarten = \"quarten\",\r\n    Quarten2 = \"quarten2\",\r\n}\r\n\r\nconst startKeyInterval = 1500\r\nconst startNumberInterval = 1500\r\n\r\nexport default class RandomController {\r\n\r\n    private _key = keys[1]\r\n    private _number = numbers[1]\r\n    private _ignore: string[] = []\r\n\r\n    private _onChange = new Subject<IState>()\r\n\r\n    private _numberChangeInterval: number = startNumberInterval\r\n    private _keyChangeInterval: number = startKeyInterval\r\n\r\n    private _order: Order = Order.Quinten\r\n\r\n    private _filterDurMoll = false\r\n    private _showScaleNotes = false\r\n    private _hideNextButtons = false\r\n    private _hideNumber = false\r\n\r\n    public set filterDurMoll(bool : boolean) {\r\n        this._filterDurMoll = bool\r\n        this.publish()\r\n    }\r\n\r\n    public set showScaleNotes(bool : boolean) {\r\n        this._showScaleNotes = bool\r\n        this.publish()\r\n    }\r\n    public set hideNextButtons(bool : boolean) {\r\n        this._hideNextButtons = bool\r\n        this.publish()\r\n    }\r\n    public set hideNumber(bool : boolean) {\r\n        \r\n        this._hideNumber = bool\r\n        this.publish()\r\n    }\r\n    public set numberChangeInterval(n : number) {\r\n        this._numberChangeInterval = n\r\n        this.publish()\r\n    }\r\n    public set keyChangeInterval(n : number) {\r\n        this._keyChangeInterval = n\r\n        this.publish()\r\n    }\r\n    public get hideNextButtons() {\r\n        return this._hideNextButtons\r\n    }\r\n    public get showScaleNotes() {\r\n        return this._showScaleNotes\r\n    }\r\n    public get filterDurMoll() {\r\n        return this._filterDurMoll\r\n    }\r\n    public get hideNumber() {\r\n        return this._hideNumber\r\n    }\r\n    public get numberChangeInterval() {\r\n        return this._numberChangeInterval\r\n    }\r\n    public get keyChangeInterval() {\r\n        return this._keyChangeInterval\r\n    }\r\n\r\n\r\n    private saveToLocalStorage() {\r\n        // debugger\r\n        localStorage.setItem(\"settings\", JSON.stringify(this.state))\r\n        console.log(\"saved to localStorage\")\r\n    }\r\n\r\n    private loadFromLocalStorage() {\r\n        const json = localStorage.getItem(\"settings\")\r\n        if (json) {\r\n            console.log(\"loaded from localStorage\")\r\n            const ob = JSON.parse(json)\r\n            for (const [key, value ] of Object.entries(ob)) {\r\n                \r\n                (this as any)[\"_\" + key] = value;\r\n                console.log(key, value, this)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    constructor() {\r\n\r\n        \r\n        this.loadFromLocalStorage()\r\n        \r\n        this.startIntervals(this._keyChangeInterval, this._numberChangeInterval)\r\n        this.nextNumber()\r\n        this.nextKey()\r\n\r\n        \r\n        \r\n        this.publish()\r\n    }\r\n\r\n    private _keyIntervalId: number | undefined\r\n    private _numberIntervalId: number | undefined\r\n\r\n    public set order(order: Order) {\r\n        this._order = order\r\n    }\r\n\r\n    public startIntervals(keyInterval: number, numberInterval: number) {\r\n        console.log(\"Start ----------\", keyInterval, numberInterval)\r\n\r\n        if (this._numberIntervalId !== undefined) {\r\n            window.clearInterval(this._numberIntervalId)\r\n        }\r\n        if (this._keyIntervalId !== undefined) {\r\n            window.clearInterval(this._keyIntervalId)\r\n        }\r\n\r\n\r\n        this._numberChangeInterval = numberInterval\r\n        this._keyChangeInterval = keyInterval\r\n        console.log(this.state)\r\n\r\n        this._keyIntervalId = window.setInterval(() => {\r\n            this.nextKey()\r\n        }, keyInterval)\r\n        this._numberIntervalId = window.setInterval(() => {\r\n            this.nextNumber()\r\n        }, numberInterval)\r\n\r\n        this.publish()\r\n\r\n    }\r\n\r\n\r\n    public get state() {\r\n        return {\r\n            number: this._number,\r\n            key: this._key,\r\n            ignore: this._ignore,\r\n            keyChangeInterval: this._keyChangeInterval,\r\n            numberChangeInterval: this._numberChangeInterval,\r\n            filterDurMoll: this._filterDurMoll,\r\n            hideNumber: this._hideNumber,\r\n            hideNextButtons: this._hideNextButtons,\r\n            showScaleNotes: this._showScaleNotes,\r\n        }\r\n    }\r\n\r\n    private publish() {\r\n        this.saveToLocalStorage()\r\n        this._onChange.next(this.state)\r\n    }\r\n\r\n    public nextNumber() {\r\n        let n = \"0\"\r\n        let i = 0\r\n        while (n === \"0\" && i < 100) {\r\n            n = randomFromArray(numbers.filter(n => n !== this._number).filter(n => !this._ignore.includes(n)))\r\n            i++\r\n        }\r\n        this._number = n\r\n        this.publish()\r\n    }\r\n\r\n    public nextKey() {\r\n        const filteredKeys = keys.filter(n => !this._ignore.includes(n))\r\n        const currentIndex = filteredKeys.indexOf(this._key)\r\n        if (this._order === Order.Random) {\r\n            this.nextRandomKey()\r\n        } else if (this._order === Order.Quinten) {\r\n            this._key = filteredKeys[(currentIndex + 1) % filteredKeys.length]\r\n            this.publish()\r\n        } else if (this._order === Order.Quinten2) {\r\n            this._key = filteredKeys[(currentIndex + 2) % filteredKeys.length]\r\n            this.publish()\r\n        } else if (this._order === Order.Quarten) {\r\n            this._key = filteredKeys[(currentIndex - 1) % filteredKeys.length]\r\n            this.publish()\r\n        } else if (this._order === Order.Quarten2) {\r\n            this._key = filteredKeys[(currentIndex - 2) % filteredKeys.length]\r\n            this.publish()\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private nextRandomKey() {\r\n        let k = undefined\r\n        let i = 0\r\n        while (!k && i < 100) {\r\n            k = randomFromArray(keys.filter(n => n !== this._key).filter(n => !this._ignore.includes(n)))\r\n            i++\r\n        }\r\n        if (k) {\r\n            this._key = k\r\n            this.publish()\r\n        }\r\n    }\r\n\r\n    public get ignore() {\r\n        return this._ignore\r\n    }\r\n\r\n    public set ignore(arr: string[]) {\r\n        this._ignore = arr\r\n        this.publish()\r\n    }\r\n\r\n\r\n    public get onChange() {\r\n        return this._onChange\r\n    }\r\n\r\n\r\n}\r\n\r\nfunction randomFromArray(arr: string[]) {\r\n    return arr[Math.floor((Math.random() * arr.length))];\r\n}","export const Scales = [{ \"rootNote\": { \"id\": \"C\", \"flat\": \"C\", \"sharp\": \"C\" }, \"notes\": [{ \"id\": \"C\", \"flat\": \"C\", \"sharp\": \"C\" }, { \"id\": \"D\", \"flat\": \"D\", \"sharp\": \"D\" }, { \"id\": \"E\", \"flat\": \"E\", \"sharp\": \"E\" }, { \"id\": \"F\", \"flat\": \"F\", \"sharp\": \"F\" }, { \"id\": \"G\", \"flat\": \"G\", \"sharp\": \"G\" }, { \"id\": \"A\", \"flat\": \"A\", \"sharp\": \"A\" }, { \"id\": \"B\", \"flat\": \"B\", \"sharp\": \"B\" }] }, { \"rootNote\": { \"id\": \"Db\", \"flat\": \"Db\", \"sharp\": \"C#\" }, \"notes\": [{ \"id\": \"Db\", \"flat\": \"Db\", \"sharp\": \"C#\" }, { \"id\": \"Eb\", \"flat\": \"Eb\", \"sharp\": \"D#\" }, { \"id\": \"F\", \"flat\": \"F\", \"sharp\": \"F\" }, { \"id\": \"Gb\", \"flat\": \"Gb\", \"sharp\": \"F#\" }, { \"id\": \"Ab\", \"flat\": \"Ab\", \"sharp\": \"G#\" }, { \"id\": \"Bb\", \"flat\": \"Bb\", \"sharp\": \"A#\" }, { \"id\": \"C\", \"flat\": \"C\", \"sharp\": \"C\" }] }, { \"rootNote\": { \"id\": \"D\", \"flat\": \"D\", \"sharp\": \"D\" }, \"notes\": [{ \"id\": \"D\", \"flat\": \"D\", \"sharp\": \"D\" }, { \"id\": \"E\", \"flat\": \"E\", \"sharp\": \"E\" }, { \"id\": \"Gb\", \"flat\": \"Gb\", \"sharp\": \"F#\" }, { \"id\": \"G\", \"flat\": \"G\", \"sharp\": \"G\" }, { \"id\": \"A\", \"flat\": \"A\", \"sharp\": \"A\" }, { \"id\": \"B\", \"flat\": \"B\", \"sharp\": \"B\" }, { \"id\": \"Db\", \"flat\": \"Db\", \"sharp\": \"C#\" }] }, { \"rootNote\": { \"id\": \"Eb\", \"flat\": \"Eb\", \"sharp\": \"D#\" }, \"notes\": [{ \"id\": \"Eb\", \"flat\": \"Eb\", \"sharp\": \"D#\" }, { \"id\": \"F\", \"flat\": \"F\", \"sharp\": \"F\" }, { \"id\": \"G\", \"flat\": \"G\", \"sharp\": \"G\" }, { \"id\": \"Ab\", \"flat\": \"Ab\", \"sharp\": \"G#\" }, { \"id\": \"Bb\", \"flat\": \"Bb\", \"sharp\": \"A#\" }, { \"id\": \"C\", \"flat\": \"C\", \"sharp\": \"C\" }, { \"id\": \"D\", \"flat\": \"D\", \"sharp\": \"D\" }] }, { \"rootNote\": { \"id\": \"E\", \"flat\": \"E\", \"sharp\": \"E\" }, \"notes\": [{ \"id\": \"E\", \"flat\": \"E\", \"sharp\": \"E\" }, { \"id\": \"Gb\", \"flat\": \"Gb\", \"sharp\": \"F#\" }, { \"id\": \"Ab\", \"flat\": \"Ab\", \"sharp\": \"G#\" }, { \"id\": \"A\", \"flat\": \"A\", \"sharp\": \"A\" }, { \"id\": \"B\", \"flat\": \"B\", \"sharp\": \"B\" }, { \"id\": \"Db\", \"flat\": \"Db\", \"sharp\": \"C#\" }, { \"id\": \"Eb\", \"flat\": \"Eb\", \"sharp\": \"D#\" }] }, { \"rootNote\": { \"id\": \"F\", \"flat\": \"F\", \"sharp\": \"F\" }, \"notes\": [{ \"id\": \"F\", \"flat\": \"F\", \"sharp\": \"F\" }, { \"id\": \"G\", \"flat\": \"G\", \"sharp\": \"G\" }, { \"id\": \"A\", \"flat\": \"A\", \"sharp\": \"A\" }, { \"id\": \"Bb\", \"flat\": \"Bb\", \"sharp\": \"A#\" }, { \"id\": \"C\", \"flat\": \"C\", \"sharp\": \"C\" }, { \"id\": \"D\", \"flat\": \"D\", \"sharp\": \"D\" }, { \"id\": \"E\", \"flat\": \"E\", \"sharp\": \"E\" }] }, { \"rootNote\": { \"id\": \"Gb\", \"flat\": \"Gb\", \"sharp\": \"F#\" }, \"notes\": [{ \"id\": \"Gb\", \"flat\": \"Gb\", \"sharp\": \"F#\" }, { \"id\": \"Ab\", \"flat\": \"Ab\", \"sharp\": \"G#\" }, { \"id\": \"Bb\", \"flat\": \"Bb\", \"sharp\": \"A#\" }, { \"id\": \"B\", \"flat\": \"B\", \"sharp\": \"B\" }, { \"id\": \"Db\", \"flat\": \"Db\", \"sharp\": \"C#\" }, { \"id\": \"Eb\", \"flat\": \"Eb\", \"sharp\": \"D#\" }, { \"id\": \"F\", \"flat\": \"F\", \"sharp\": \"F\" }] }, { \"rootNote\": { \"id\": \"G\", \"flat\": \"G\", \"sharp\": \"G\" }, \"notes\": [{ \"id\": \"G\", \"flat\": \"G\", \"sharp\": \"G\" }, { \"id\": \"A\", \"flat\": \"A\", \"sharp\": \"A\" }, { \"id\": \"B\", \"flat\": \"B\", \"sharp\": \"B\" }, { \"id\": \"C\", \"flat\": \"C\", \"sharp\": \"C\" }, { \"id\": \"D\", \"flat\": \"D\", \"sharp\": \"D\" }, { \"id\": \"E\", \"flat\": \"E\", \"sharp\": \"E\" }, { \"id\": \"Gb\", \"flat\": \"Gb\", \"sharp\": \"F#\" }] }, { \"rootNote\": { \"id\": \"Ab\", \"flat\": \"Ab\", \"sharp\": \"G#\" }, \"notes\": [{ \"id\": \"Ab\", \"flat\": \"Ab\", \"sharp\": \"G#\" }, { \"id\": \"Bb\", \"flat\": \"Bb\", \"sharp\": \"A#\" }, { \"id\": \"C\", \"flat\": \"C\", \"sharp\": \"C\" }, { \"id\": \"Db\", \"flat\": \"Db\", \"sharp\": \"C#\" }, { \"id\": \"Eb\", \"flat\": \"Eb\", \"sharp\": \"D#\" }, { \"id\": \"F\", \"flat\": \"F\", \"sharp\": \"F\" }, { \"id\": \"G\", \"flat\": \"G\", \"sharp\": \"G\" }] }, { \"rootNote\": { \"id\": \"A\", \"flat\": \"A\", \"sharp\": \"A\" }, \"notes\": [{ \"id\": \"A\", \"flat\": \"A\", \"sharp\": \"A\" }, { \"id\": \"B\", \"flat\": \"B\", \"sharp\": \"B\" }, { \"id\": \"Db\", \"flat\": \"Db\", \"sharp\": \"C#\" }, { \"id\": \"D\", \"flat\": \"D\", \"sharp\": \"D\" }, { \"id\": \"E\", \"flat\": \"E\", \"sharp\": \"E\" }, { \"id\": \"Gb\", \"flat\": \"Gb\", \"sharp\": \"F#\" }, { \"id\": \"Ab\", \"flat\": \"Ab\", \"sharp\": \"G#\" }] }, { \"rootNote\": { \"id\": \"Bb\", \"flat\": \"Bb\", \"sharp\": \"A#\" }, \"notes\": [{ \"id\": \"Bb\", \"flat\": \"Bb\", \"sharp\": \"A#\" }, { \"id\": \"C\", \"flat\": \"C\", \"sharp\": \"C\" }, { \"id\": \"D\", \"flat\": \"D\", \"sharp\": \"D\" }, { \"id\": \"Eb\", \"flat\": \"Eb\", \"sharp\": \"D#\" }, { \"id\": \"F\", \"flat\": \"F\", \"sharp\": \"F\" }, { \"id\": \"G\", \"flat\": \"G\", \"sharp\": \"G\" }, { \"id\": \"A\", \"flat\": \"A\", \"sharp\": \"A\" }] }, { \"rootNote\": { \"id\": \"B\", \"flat\": \"B\", \"sharp\": \"B\" }, \"notes\": [{ \"id\": \"B\", \"flat\": \"B\", \"sharp\": \"B\" }, { \"id\": \"Db\", \"flat\": \"Db\", \"sharp\": \"C#\" }, { \"id\": \"Eb\", \"flat\": \"Eb\", \"sharp\": \"D#\" }, { \"id\": \"E\", \"flat\": \"E\", \"sharp\": \"E\" }, { \"id\": \"Gb\", \"flat\": \"Gb\", \"sharp\": \"F#\" }, { \"id\": \"Ab\", \"flat\": \"Ab\", \"sharp\": \"G#\" }, { \"id\": \"Bb\", \"flat\": \"Bb\", \"sharp\": \"A#\" }] }]\r\n\r\nconsole.log(\"scales\", Scales)\r\n\r\nconst flatScales = [\r\n\r\n    \"F Dur\",\r\n\r\n\r\n    \"Gb Dur\",\r\n    \"Db Dur\",\r\n    \"Ab Dur\",\r\n    \"Eb Dur\",\r\n    \"Bb Dur\",\r\n]\r\n\r\nexport function getNoteFromStep(key: string = \"\", step: string = \"\") {\r\n    const rootNote = key.split(\" \")[0]\r\n    const index = parseFloat(step) - 1\r\n    const scale = Scales.find(scale => scale.rootNote.id === rootNote)\r\n    const note = scale?.notes[index]\r\n    console.log({ rootNote, index, scale, note })\r\n\r\n    const sharpOrFlat = (flatScales.includes(key)) ? note?.flat : note?.sharp \r\n    return sharpOrFlat\r\n}","import React, { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport RandomController, { baseKeys, flatKeys, IState, keys, numbers, Order, sharpKeys } from './Controller';\r\n\r\nimport classes from \"./App.module.css\"\r\nimport { getNoteFromStep, Scales } from './scales';\r\n\r\nconst controller = new RandomController()\r\n\r\nfunction App() {\r\n\r\n  const [state, setState] = useState<IState>()\r\n\r\n  useEffect(() => {\r\n    setState(controller.state)\r\n    controller.onChange.subscribe(state => {\r\n      setState(state)\r\n    })\r\n  }, [controller, setState])\r\n\r\n  console.log(state)\r\n\r\n  const ignore = [...keys, ...numbers].map(s => <button\r\n    className={(state?.ignore.includes(s) ? classes.ignored : classes.included) + \" \" + classes.ignoreButton}\r\n    onClick={e => {\r\n      if (state) {\r\n\r\n        if (!state.ignore.includes(s)) {\r\n          controller.ignore = [...state.ignore, s]\r\n        } else {\r\n          controller.ignore = state.ignore.filter(item => item !== s)\r\n        }\r\n\r\n      }\r\n    }}>{s}</button>)\r\n\r\n  const options: any = [\r\n    <option value=\"500\">0.3 second</option>,\r\n    <option value=\"500\">0.4 second</option>,\r\n    <option value=\"500\">0.5 second</option>,\r\n    <option value=\"600\">0.6 second</option>,\r\n    <option value=\"700\">0.7 second</option>,\r\n    <option value=\"800\">0.8 second</option>,\r\n    <option value=\"900\">0.9 second</option>,\r\n    <option value=\"1000\">1 second</option>,\r\n    <option value=\"1500\">1.5 seconds</option>,\r\n    <option value=\"2000\">2 seconds</option>,\r\n    <option value=\"3000\">3 seconds</option>,\r\n    <option value=\"4000\">4 seconds</option>,\r\n    <option value=\"5000\">5 seconds</option>,\r\n    <option value=\"7000\">7 seconds</option>,\r\n    <option value=\"10000\">10 seconds</option>,\r\n    <option value=\"12000\">12 seconds</option>,\r\n    <option value=\"20000\">20 seconds</option>,\r\n    <option value=\"30000\">30 seconds</option>,\r\n    <option value=\"60000\">60 seconds</option>,\r\n    <option value=\"90000\">90 seconds</option>,\r\n    <option value=\"120000\">2 mins</option>,\r\n    <option value=\"180000\">3 mins</option>,\r\n    <option value=\"240000\">4 mins</option>,\r\n    <option value=\"300000\">5 mins</option>,\r\n    <option value=\"360000\">6 mins</option>,\r\n  ]\r\n\r\n  if (!state) return null\r\n\r\n  const key = !state.filterDurMoll ? state?.key : state?.key?.replace(\" Dur\", \"\").replace(\" Moll\", \"\")\r\n  const number = !state.showScaleNotes ? state?.number : getNoteFromStep(state?.key, state?.number) ?? \"no note representation found, only choose 1-7\"\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {/* <div><button onClick={e => {\r\n        controller.startIntervals(2000, 3000);\r\n        setHideNumber(true)\r\n        setFilterDurMoll(true)\r\n      }}>learn hashmap</button></div> */}\r\n\r\n\r\n      <div className={classes.box}>\r\n        <div className={classes.key}>{\r\n          key\r\n        }</div>\r\n        {!state.hideNumber &&\r\n          <div className={classes.number}>{number}</div>\r\n\r\n        }\r\n        {!state.hideNextButtons &&\r\n        <React.Fragment>\r\n          <div><button className=\"nextKey\" onClick={e => controller.nextKey()}>next key</button></div>\r\n          <div><button className=\"nextStep\" onClick={e => controller.nextNumber()} style={{display:state.hideNumber ? \"none\" : \"\"}}>next step</button></div>\r\n        </React.Fragment>\r\n        }\r\n      </div>\r\n\r\n\r\n\r\n      <div>\r\n        <button\r\n          style={{ backgroundColor: state.hideNumber ? \"green\" : \"initial\" }}\r\n          onClick={e => {\r\n        \r\n            controller.hideNumber  = !state.hideNumber\r\n          }}>hide number</button>\r\n      </div>\r\n\r\n\r\n      <div>\r\n        <button style={{ backgroundColor: state.filterDurMoll ? \"green\" : \"initial\" }}\r\n          onClick={e => {\r\n            controller.filterDurMoll  = !state.filterDurMoll\r\n          }}>filter dur moll</button>\r\n      </div>\r\n      <div>\r\n        <button style={{ backgroundColor: state.hideNextButtons ? \"green\" : \"initial\" }}\r\n          onClick={e => {\r\n            controller.hideNextButtons = !state.hideNextButtons\r\n          }}>hide next buttons</button>\r\n      </div>\r\n\r\n\r\n      <div >\r\n        <button style={{ backgroundColor: state.showScaleNotes ? \"green\" : \"initial\" }}\r\n          onClick={e => {\r\n            controller.showScaleNotes  = !state.showScaleNotes\r\n          }}>show scale notes</button>\r\n      </div>\r\n\r\n\r\n\r\n      <div><button onClick={e => {\r\n        if (state?.ignore.length === 0) {\r\n          controller.ignore = keys\r\n        } else {\r\n          controller.ignore = []\r\n        }\r\n      }}>all</button></div>\r\n      <div><button onClick={e => {\r\n        if (state?.ignore.length === 0) {\r\n          controller.ignore = keys\r\n        } else {\r\n          // controller.ignore = []\r\n          controller.ignore = [...flatKeys, ...baseKeys]\r\n        }\r\n      }}>sharps</button></div>\r\n      <div><button onClick={e => {\r\n        if (state?.ignore.length === 0) {\r\n          controller.ignore = keys\r\n        } else {\r\n          controller.ignore = []\r\n          controller.ignore = [...sharpKeys, ...baseKeys]\r\n        }\r\n      }}>flats</button></div>\r\n      <div><button onClick={e => {\r\n        if (state?.ignore.length === 0) {\r\n          controller.ignore = keys\r\n        } else {\r\n          controller.ignore = [...sharpKeys, ...flatKeys]\r\n        }\r\n      }}>base notes</button></div>\r\n\r\n      <div className={classes.ignore}>{ignore}</div>\r\n      <div className={classes.flexcolumn}>\r\n\r\n\r\n\r\n\r\n        <div className={classes.flexrow}>\r\n\r\n\r\n\r\n          key change interval:\r\n          <select name=\"keys\" id=\"keyID\"\r\n            onChange={e => {\r\n              console.log(\"ONCHANGE1\", e.target.value)\r\n              controller.startIntervals(parseFloat(e.target.value), controller.state.numberChangeInterval)\r\n            }}>\r\n\r\n            {/* <option value=\"60000\">1 mins (standard)</option> */}\r\n            {/* <option value=\"1500\">1.5 seconds (standard)</option> */}\r\n            {options.filter((o:any) => o.value === (state.keyChangeInterval+\"\"))}\r\n\r\n            {options}\r\n\r\n          </select>\r\n        </div>\r\n\r\n        <div className={classes.flexrow}>\r\n\r\n\r\n\r\n          step change interval:\r\n          <select name=\"numbers\" id=\"numberID\" /* value={state?.numberChangeInterval.toString() && \"2000\"} */\r\n            onChange={e => {\r\n              console.log(\"ONCHANGE2\", e.target.value)\r\n              controller.startIntervals(controller.state.keyChangeInterval, parseFloat(e.target.value))\r\n            }}>\r\n\r\n            <option value=\"1500\">1.5 seconds (standard)</option>\r\n\r\n            {options}\r\n\r\n          </select>\r\n        </div>\r\n\r\n        <div className={classes.flexrow}>\r\n\r\n\r\n\r\n          order:\r\n          <select name=\"order\" id=\"orderID\" /* value={state?.numberChangeInterval.toString() && \"2000\"} */\r\n            onChange={e => {\r\n              controller.order = e.target.value as Order\r\n            }}>\r\n\r\n            <option value={Order.Quinten}>Quinten</option>\r\n            <option value={Order.Quinten2}>Quinten 2</option>\r\n            <option value={Order.Quarten}>Quarten</option>\r\n            <option value={Order.Quarten2}>Quarten 2</option>\r\n            <option value={Order.Random}>Random</option>\r\n\r\n\r\n\r\n          </select>\r\n        </div>\r\n\r\n        <div className={classes.flexrow}>\r\n\r\n\r\n          <a target=\"_blank\" href={\"https://github.com/vincentwue/steps-learner\"} >More information on Github</a>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n    <App />,\r\n  // </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}