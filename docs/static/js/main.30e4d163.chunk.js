(this["webpackJsonpsteps-learner"]=this["webpackJsonpsteps-learner"]||[]).push([[0],{1:function(e,t,n){e.exports={App:"App_App__1P9hb",box:"App_box__22HXT",ignore:"App_ignore__2SyIL",ignoreButton:"App_ignoreButton__3bHMF",included:"App_included__3gq1F",number:"App_number__1CyVF",key:"App_key__gfJ0-",flexrow:"App_flexrow__i-Wbw",flexcolumn:"App_flexcolumn__2p82a"}},15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var i,r=n(3),a=n.n(r),s=n(8),o=n.n(s),l=(n(15),n(2)),h=n(6),c=(n(16),n(9)),d=n(10),u=n(20),b=["F Dur","C Dur","G Dur","D Dur","A Dur ","E Dur","B Dur "],f=["C#","D#","F#","G#","A#"],p=["Gb Dur","Db Dur","Ab Dur","Eb Dur","Bb Dur"],v=["F Dur","C Dur","G Dur","D Dur","A Dur ","E Dur","B Dur ","Gb Dur","Db Dur","Ab Dur","Eb Dur","Bb Dur","C#","D#","F#","G#","A#"],j=["1","2","3","4","5","6","7","b3","b2","#2","b9","9","#9","11","#11","b5","#5","13","b13","#4","b6","b7"];!function(e){e.Random="random",e.Quinten="quinten",e.Quinten2="quinten2",e.Quarten="quarten",e.Quarten2="quarten2"}(i||(i={}));var g=function(){function e(){Object(c.a)(this,e),this._key=v[1],this._number=j[1],this._ignore=[],this._onChange=new u.a,this._numberChangeInterval=1500,this._keyChangeInterval=1500,this._order=i.Quinten,this._filterDurMoll=!1,this._showScaleNotes=!1,this._hideNextButtons=!1,this._hideNumber=!1,this._keyIntervalId=void 0,this._numberIntervalId=void 0,this.loadFromLocalStorage(),this.startIntervals(this._keyChangeInterval,this._numberChangeInterval),this.nextNumber(),this.nextKey(),this.publish()}return Object(d.a)(e,[{key:"filterDurMoll",get:function(){return this._filterDurMoll},set:function(e){this._filterDurMoll=e,this.publish()}},{key:"showScaleNotes",get:function(){return this._showScaleNotes},set:function(e){this._showScaleNotes=e,this.publish()}},{key:"hideNextButtons",get:function(){return this._hideNextButtons},set:function(e){this._hideNextButtons=e,this.publish()}},{key:"hideNumber",get:function(){return this._hideNumber},set:function(e){this._hideNumber=e,this.publish()}},{key:"numberChangeInterval",get:function(){return this._numberChangeInterval},set:function(e){this._numberChangeInterval=e,this.publish()}},{key:"keyChangeInterval",get:function(){return this._keyChangeInterval},set:function(e){this._keyChangeInterval=e,this.publish()}},{key:"saveToLocalStorage",value:function(){localStorage.setItem("settings",JSON.stringify(this.state)),console.log("saved to localStorage")}},{key:"loadFromLocalStorage",value:function(){var e=localStorage.getItem("settings");if(e){console.log("loaded from localStorage");for(var t=JSON.parse(e),n=0,i=Object.entries(t);n<i.length;n++){var r=Object(h.a)(i[n],2),a=r[0],s=r[1];this["_"+a]=s,console.log(a,s,this)}}}},{key:"order",set:function(e){this._order=e}},{key:"startIntervals",value:function(e,t){var n=this;console.log("Start ----------",e,t),void 0!==this._numberIntervalId&&window.clearInterval(this._numberIntervalId),void 0!==this._keyIntervalId&&window.clearInterval(this._keyIntervalId),this._numberChangeInterval=t,this._keyChangeInterval=e,console.log(this.state),this._keyIntervalId=window.setInterval((function(){n.nextKey()}),e),this._numberIntervalId=window.setInterval((function(){n.nextNumber()}),t),this.publish()}},{key:"state",get:function(){return{number:this._number,key:this._key,ignore:this._ignore,keyChangeInterval:this._keyChangeInterval,numberChangeInterval:this._numberChangeInterval,filterDurMoll:this._filterDurMoll,hideNumber:this._hideNumber,hideNextButtons:this._hideNextButtons,showScaleNotes:this._showScaleNotes}}},{key:"publish",value:function(){this.saveToLocalStorage(),this._onChange.next(this.state)}},{key:"nextNumber",value:function(){for(var e=this,t="0",n=0;"0"===t&&n<100;)t=x(j.filter((function(t){return t!==e._number})).filter((function(t){return!e._ignore.includes(t)}))),n++;this._number=t,this.publish()}},{key:"nextKey",value:function(){var e=this,t=v.filter((function(t){return!e._ignore.includes(t)})),n=t.indexOf(this._key);this._order===i.Random?this.nextRandomKey():this._order===i.Quinten?(this._key=t[(n+1)%t.length],this.publish()):this._order===i.Quinten2?(this._key=t[(n+2)%t.length],this.publish()):this._order===i.Quarten?(this._key=t[(n-1)%t.length],this.publish()):this._order===i.Quarten2&&(this._key=t[(n-2)%t.length],this.publish())}},{key:"nextRandomKey",value:function(){for(var e=this,t=void 0,n=0;!t&&n<100;)t=x(v.filter((function(t){return t!==e._key})).filter((function(t){return!e._ignore.includes(t)}))),n++;t&&(this._key=t,this.publish())}},{key:"ignore",get:function(){return this._ignore},set:function(e){this._ignore=e,this.publish()}},{key:"onChange",get:function(){return this._onChange}}]),e}();function x(e){return e[Math.floor(Math.random()*e.length)]}var D=n(1),_=n.n(D),O=[{rootNote:{id:"C",flat:"C",sharp:"C"},notes:[{id:"C",flat:"C",sharp:"C"},{id:"D",flat:"D",sharp:"D"},{id:"E",flat:"E",sharp:"E"},{id:"F",flat:"F",sharp:"F"},{id:"G",flat:"G",sharp:"G"},{id:"A",flat:"A",sharp:"A"},{id:"B",flat:"B",sharp:"B"}]},{rootNote:{id:"Db",flat:"Db",sharp:"C#"},notes:[{id:"Db",flat:"Db",sharp:"C#"},{id:"Eb",flat:"Eb",sharp:"D#"},{id:"F",flat:"F",sharp:"F"},{id:"Gb",flat:"Gb",sharp:"F#"},{id:"Ab",flat:"Ab",sharp:"G#"},{id:"Bb",flat:"Bb",sharp:"A#"},{id:"C",flat:"C",sharp:"C"}]},{rootNote:{id:"D",flat:"D",sharp:"D"},notes:[{id:"D",flat:"D",sharp:"D"},{id:"E",flat:"E",sharp:"E"},{id:"Gb",flat:"Gb",sharp:"F#"},{id:"G",flat:"G",sharp:"G"},{id:"A",flat:"A",sharp:"A"},{id:"B",flat:"B",sharp:"B"},{id:"Db",flat:"Db",sharp:"C#"}]},{rootNote:{id:"Eb",flat:"Eb",sharp:"D#"},notes:[{id:"Eb",flat:"Eb",sharp:"D#"},{id:"F",flat:"F",sharp:"F"},{id:"G",flat:"G",sharp:"G"},{id:"Ab",flat:"Ab",sharp:"G#"},{id:"Bb",flat:"Bb",sharp:"A#"},{id:"C",flat:"C",sharp:"C"},{id:"D",flat:"D",sharp:"D"}]},{rootNote:{id:"E",flat:"E",sharp:"E"},notes:[{id:"E",flat:"E",sharp:"E"},{id:"Gb",flat:"Gb",sharp:"F#"},{id:"Ab",flat:"Ab",sharp:"G#"},{id:"A",flat:"A",sharp:"A"},{id:"B",flat:"B",sharp:"B"},{id:"Db",flat:"Db",sharp:"C#"},{id:"Eb",flat:"Eb",sharp:"D#"}]},{rootNote:{id:"F",flat:"F",sharp:"F"},notes:[{id:"F",flat:"F",sharp:"F"},{id:"G",flat:"G",sharp:"G"},{id:"A",flat:"A",sharp:"A"},{id:"Bb",flat:"Bb",sharp:"A#"},{id:"C",flat:"C",sharp:"C"},{id:"D",flat:"D",sharp:"D"},{id:"E",flat:"E",sharp:"E"}]},{rootNote:{id:"Gb",flat:"Gb",sharp:"F#"},notes:[{id:"Gb",flat:"Gb",sharp:"F#"},{id:"Ab",flat:"Ab",sharp:"G#"},{id:"Bb",flat:"Bb",sharp:"A#"},{id:"B",flat:"B",sharp:"B"},{id:"Db",flat:"Db",sharp:"C#"},{id:"Eb",flat:"Eb",sharp:"D#"},{id:"F",flat:"F",sharp:"F"}]},{rootNote:{id:"G",flat:"G",sharp:"G"},notes:[{id:"G",flat:"G",sharp:"G"},{id:"A",flat:"A",sharp:"A"},{id:"B",flat:"B",sharp:"B"},{id:"C",flat:"C",sharp:"C"},{id:"D",flat:"D",sharp:"D"},{id:"E",flat:"E",sharp:"E"},{id:"Gb",flat:"Gb",sharp:"F#"}]},{rootNote:{id:"Ab",flat:"Ab",sharp:"G#"},notes:[{id:"Ab",flat:"Ab",sharp:"G#"},{id:"Bb",flat:"Bb",sharp:"A#"},{id:"C",flat:"C",sharp:"C"},{id:"Db",flat:"Db",sharp:"C#"},{id:"Eb",flat:"Eb",sharp:"D#"},{id:"F",flat:"F",sharp:"F"},{id:"G",flat:"G",sharp:"G"}]},{rootNote:{id:"A",flat:"A",sharp:"A"},notes:[{id:"A",flat:"A",sharp:"A"},{id:"B",flat:"B",sharp:"B"},{id:"Db",flat:"Db",sharp:"C#"},{id:"D",flat:"D",sharp:"D"},{id:"E",flat:"E",sharp:"E"},{id:"Gb",flat:"Gb",sharp:"F#"},{id:"Ab",flat:"Ab",sharp:"G#"}]},{rootNote:{id:"Bb",flat:"Bb",sharp:"A#"},notes:[{id:"Bb",flat:"Bb",sharp:"A#"},{id:"C",flat:"C",sharp:"C"},{id:"D",flat:"D",sharp:"D"},{id:"Eb",flat:"Eb",sharp:"D#"},{id:"F",flat:"F",sharp:"F"},{id:"G",flat:"G",sharp:"G"},{id:"A",flat:"A",sharp:"A"}]},{rootNote:{id:"B",flat:"B",sharp:"B"},notes:[{id:"B",flat:"B",sharp:"B"},{id:"Db",flat:"Db",sharp:"C#"},{id:"Eb",flat:"Eb",sharp:"D#"},{id:"E",flat:"E",sharp:"E"},{id:"Gb",flat:"Gb",sharp:"F#"},{id:"Ab",flat:"Ab",sharp:"G#"},{id:"Bb",flat:"Bb",sharp:"A#"}]}];console.log("scales",O);var m=["F Dur","Gb Dur","Db Dur","Ab Dur","Eb Dur","Bb Dur"];var C=n(0),k=new g;var y=function(){var e,t,n=Object(r.useState)(),s=Object(h.a)(n,2),o=s[0],c=s[1];Object(r.useEffect)((function(){c(k.state),k.onChange.subscribe((function(e){c(e)}))}),[k,c]),console.log(o);var d=[].concat(Object(l.a)(v),Object(l.a)(j)).map((function(e){return Object(C.jsx)("button",{className:((null===o||void 0===o?void 0:o.ignore.includes(e))?_.a.ignored:_.a.included)+" "+_.a.ignoreButton,onClick:function(t){o&&(o.ignore.includes(e)?k.ignore=o.ignore.filter((function(t){return t!==e})):k.ignore=[].concat(Object(l.a)(o.ignore),[e]))},children:e})})),u=[Object(C.jsx)("option",{value:"500",children:"0.3 second"}),Object(C.jsx)("option",{value:"500",children:"0.4 second"}),Object(C.jsx)("option",{value:"500",children:"0.5 second"}),Object(C.jsx)("option",{value:"600",children:"0.6 second"}),Object(C.jsx)("option",{value:"700",children:"0.7 second"}),Object(C.jsx)("option",{value:"800",children:"0.8 second"}),Object(C.jsx)("option",{value:"900",children:"0.9 second"}),Object(C.jsx)("option",{value:"1000",children:"1 second"}),Object(C.jsx)("option",{value:"1500",children:"1.5 seconds"}),Object(C.jsx)("option",{value:"2000",children:"2 seconds"}),Object(C.jsx)("option",{value:"3000",children:"3 seconds"}),Object(C.jsx)("option",{value:"4000",children:"4 seconds"}),Object(C.jsx)("option",{value:"5000",children:"5 seconds"}),Object(C.jsx)("option",{value:"7000",children:"7 seconds"}),Object(C.jsx)("option",{value:"10000",children:"10 seconds"}),Object(C.jsx)("option",{value:"12000",children:"12 seconds"}),Object(C.jsx)("option",{value:"20000",children:"20 seconds"}),Object(C.jsx)("option",{value:"30000",children:"30 seconds"}),Object(C.jsx)("option",{value:"60000",children:"60 seconds"}),Object(C.jsx)("option",{value:"90000",children:"90 seconds"}),Object(C.jsx)("option",{value:"120000",children:"2 mins"}),Object(C.jsx)("option",{value:"180000",children:"3 mins"}),Object(C.jsx)("option",{value:"240000",children:"4 mins"}),Object(C.jsx)("option",{value:"300000",children:"5 mins"}),Object(C.jsx)("option",{value:"360000",children:"6 mins"})];if(!o)return null;var g=o.filterDurMoll?null===o||void 0===o||null===(e=o.key)||void 0===e?void 0:e.replace(" Dur","").replace(" Moll",""):null===o||void 0===o?void 0:o.key,x=o.showScaleNotes?null!==(t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split(" ")[0],i=parseFloat(t)-1,r=O.find((function(e){return e.rootNote.id===n})),a=null===r||void 0===r?void 0:r.notes[i];return console.log({rootNote:n,index:i,scale:r,note:a}),m.includes(e)?null===a||void 0===a?void 0:a.flat:null===a||void 0===a?void 0:a.sharp}(null===o||void 0===o?void 0:o.key,null===o||void 0===o?void 0:o.number))&&void 0!==t?t:"no note representation found, only choose 1-7":null===o||void 0===o?void 0:o.number;return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsxs)("div",{className:_.a.box,children:[Object(C.jsx)("div",{className:_.a.key,children:g}),!o.hideNumber&&Object(C.jsx)("div",{className:_.a.number,children:x}),!o.hideNextButtons&&Object(C.jsxs)(a.a.Fragment,{children:[Object(C.jsx)("div",{children:Object(C.jsx)("button",{className:"nextKey",onClick:function(e){return k.nextKey()},children:"next key"})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{className:"nextStep",onClick:function(e){return k.nextNumber()},style:{display:o.hideNumber?"none":""},children:"next step"})})]})]}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{style:{backgroundColor:o.hideNumber?"green":"initial"},onClick:function(e){k.hideNumber=!o.hideNumber},children:"hide number"})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{style:{backgroundColor:o.filterDurMoll?"green":"initial"},onClick:function(e){k.filterDurMoll=!o.filterDurMoll},children:"filter dur moll"})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{style:{backgroundColor:o.hideNextButtons?"green":"initial"},onClick:function(e){k.hideNextButtons=!o.hideNextButtons},children:"hide next buttons"})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{style:{backgroundColor:o.showScaleNotes?"green":"initial"},onClick:function(e){k.showScaleNotes=!o.showScaleNotes},children:"show scale notes"})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:function(e){0===(null===o||void 0===o?void 0:o.ignore.length)?k.ignore=v:k.ignore=[]},children:"all"})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:function(e){0===(null===o||void 0===o?void 0:o.ignore.length)?k.ignore=v:k.ignore=[].concat(Object(l.a)(p),Object(l.a)(b))},children:"sharps"})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:function(e){0===(null===o||void 0===o?void 0:o.ignore.length)?k.ignore=v:(k.ignore=[],k.ignore=[].concat(Object(l.a)(f),Object(l.a)(b)))},children:"flats"})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:function(e){0===(null===o||void 0===o?void 0:o.ignore.length)?k.ignore=v:k.ignore=[].concat(Object(l.a)(f),Object(l.a)(p))},children:"base notes"})}),Object(C.jsx)("div",{className:_.a.ignore,children:d}),Object(C.jsxs)("div",{className:_.a.flexcolumn,children:[Object(C.jsxs)("div",{className:_.a.flexrow,children:["key change interval:",Object(C.jsxs)("select",{name:"keys",id:"keyID",onChange:function(e){console.log("ONCHANGE1",e.target.value),k.startIntervals(parseFloat(e.target.value),k.state.numberChangeInterval)},children:[u.filter((function(e){return e.value===o.keyChangeInterval+""})),u]})]}),Object(C.jsxs)("div",{className:_.a.flexrow,children:["step change interval:",Object(C.jsxs)("select",{name:"numbers",id:"numberID",onChange:function(e){console.log("ONCHANGE2",e.target.value),k.startIntervals(k.state.keyChangeInterval,parseFloat(e.target.value))},children:[Object(C.jsx)("option",{value:"1500",children:"1.5 seconds (standard)"}),u]})]}),Object(C.jsxs)("div",{className:_.a.flexrow,children:["order:",Object(C.jsxs)("select",{name:"order",id:"orderID",onChange:function(e){k.order=e.target.value},children:[Object(C.jsx)("option",{value:i.Quinten,children:"Quinten"}),Object(C.jsx)("option",{value:i.Quinten2,children:"Quinten 2"}),Object(C.jsx)("option",{value:i.Quarten,children:"Quarten"}),Object(C.jsx)("option",{value:i.Quarten2,children:"Quarten 2"}),Object(C.jsx)("option",{value:i.Random,children:"Random"})]})]}),Object(C.jsx)("div",{className:_.a.flexrow,children:Object(C.jsx)("a",{target:"_blank",href:"https://github.com/vincentwue/steps-learner",children:"More information on Github"})})]})]})};o.a.render(Object(C.jsx)(y,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.30e4d163.chunk.js.map